<div class="layout" [class.sidebar-open]="!sidebarCollapsed">

  <!-- Navbar / Header -->
  <header class="header">
    <div class="header-left">
      <button class="hamburger" (click)="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <div class="header-right">
      <!-- Notification -->
      <app-bell></app-bell>

      <!-- User Profile -->
      <div class="user-menu">
        <!-- Display Foto Profile -->
        <div class="user-avatar" [class.has-photo]="currentUser?.fotoProfil">
          <img 
            *ngIf="currentUser?.fotoProfil" 
            [src]="currentUser.fotoProfil" 
            [alt]="currentUser.namaLengkap"
            class="avatar-image"
          />
          <span *ngIf="!currentUser?.fotoProfil" class="avatar-initial">
            {{ currentUser?.namaLengkap?.charAt(0) || 'A' }}
          </span>
        </div>

        <div class="user-info">
          <span class="user-name">
            {{ currentUser?.namaLengkap || 'Admin' }}
          </span>
          <span class="user-role">
            {{ currentUser?.role || 'ADMIN' }}
          </span>
        </div>

        <button class="logout-btn" (click)="logout()">
          Log out
        </button>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar">
    <ul class="sidebarMenuInner">
      <li class="profile logo">
         <img
          src="logo-no-bg.png"
        />
      </li>

      <li *ngFor="let item of menuItems">
        <a
          [routerLink]="item.route"
          routerLinkActive="active"
        >
          {{ item.label }}
        </a>
      </li>
    </ul>
  </aside>

  <!-- Main content -->
  <div class="admin-container">
    <div class="main">
      <div class="mainInner">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>

</div>